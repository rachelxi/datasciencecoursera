trial1<-Event[19]
trial2<-grep(trial1,trial,fixed=TRUE)
head(trial[trial2],50)
trial1<-Event[20]
trial2<-grep(trial1,trial,fixed=TRUE)
head(trial[trial2],50)
trial1<-Event[21]
trial2<-grep(trial1,trial,fixed=TRUE)
head(trial[trial2],50)
trial1<-Event[22]
trial2<-grep(trial1,trial,fixed=TRUE)
head(trial[trial2],50)
trial1<-Event[23]
trial2<-grep(trial1,trial,fixed=TRUE)
head(trial[trial2],50)
trial1<-Event[24]
trial2<-grep(trial1,trial,fixed=TRUE)
head(trial[trial2],50)
trial1<-Event[2]
trial2<-which(trial==trial1)
trial1<-Event[3]
trial2<-which(trial==trial1)
trial1<-Event[4]
trial2<-which(trial==trial1)
trial1<-Event[5]
trial2<-which(trial==trial1)
trial1<-Event[6]
trial2<-which(trial==trial1)
trial1<-Event[7]
trial2<-which(trial==trial1)
trial1<-Event[8]
trial2<-which(trial==trial1)
trial1<-Event[9]
trial2<-which(trial==trial1)
trial1<-Event[10]
trial2<-which(trial==trial1)
trial1<-Event[11]
trial2<-which(trial==trial1)
trial1<-Event[12]
trial2<-which(trial==trial1)
trial1<-Event[13]
trial2<-which(trial==trial1)
trial1<-Event[14]
trial2<-which(trial==trial1)
trial1<-Event[15]
trial2<-which(trial==trial1)
trial1<-Event[16]
trial2<-which(trial==trial1)
trial1<-Event[17]
trial2<-which(trial==trial1)
trial1<-Event[18]
trial2<-which(trial==trial1)
trial1<-Event[19]
trial2<-which(trial==trial1)
trial1<-Event[20]
trial2<-which(trial==trial1)
trial1<-Event[21]
trial2<-which(trial==trial1)
trial1<-Event[22]
trial2<-which(trial==trial1)
trial1<-Event[23]
trial2<-which(trial==trial1)
trial1<-Event[24]
trial2<-which(trial==trial1)
trial1<-Event[25]
trial2<-which(trial==trial1)
trial1<-Event[26]
trial2<-which(trial==trial1)
trial1<-Event[27]
trial2<-which(trial==trial1)
trial1<-Event[28]
trial2<-which(trial==trial1)
trial1<-Event[29]
trial2<-which(trial==trial1)
trial1<-Event[30]
trial2<-which(trial==trial1)
trial1<-Event[31]
trial2<-which(trial==trial1)
trial1<-Event[32]
trial2<-which(trial==trial1)
trial1<-Event[33]
trial2<-which(trial==trial1)
grep("marine thunderstorm",trial,ignore.case=TRUE)
trial2<-grep(trial1,ignore.case=TRUE)
trial2<-grep(trial1,trial,ignore.case=TRUE)
head(trial[trial2],50)
tail(trial[trial2],50)
Event[33]<-"MARINE THUNDERSTORM WIND"
trial1<-Event[33]
trial2<-which(trial==trial1)
trial1<-Event[34]
trial2<-which(trial==trial1)
trial1<-Event[35]
trial2<-which(trial==trial1)
trial1<-Event[36]
trial2<-which(trial==trial1)
trial1<-Event[37]
trial2<-which(trial==trial1)
some<-grep("storm tide",trial,ignore.case=TRUE)
trial1<-Event[38]
trial2<-which(trial==trial1)
trial1<-Event[39]
trial2<-which(trial==trial1)
head(trial[trial2],50)
trial1<-Event[39]
trial2<-which(trial==trial1)
trial1<-Event[40]
trial2<-which(trial==trial1)
trial1<-Event[41]
trial2<-which(trial==trial1)
trial1<-Event[42]
trial2<-which(trial==trial1)
trial1<-Event[43]
trial2<-which(trial==trial1)
trial1<-Event[44]
trial2<-which(trial==trial1)
trial1<-Event[45]
trial2<-which(trial==trial1)
trial1<-Event[46]
trial2<-which(trial==trial1)
trial1<-Event[47]
trial2<-which(trial==trial1)
trial1<-Event[48]
trial2<-which(trial==trial1)
sum(174,386,2719,650,539,1293,10,2488,141,427,1678,1002,54277,25326,45,1342,6839,288661,767,11723,15708,725,88,2006,23,636,15754,442,135,48,5812,470,21,59,82563,60652,60,690,20,22,3796,2761,11433,7026)
trial1<-Event[24]
trial2<-which(trial==trial1)
sum(611437,20212)
names(data)
head(data,20)
names(data)
head(data$BGN_DATE,50)
head(data$BGN_DATE,100)
tail(data$BGN_DATE,100)
names(data)
rbind(c(1,2,3),c(4,5,6))
?merge
merge(c(1,2,3),c(4,5,6))
x
x<-c(1,2,3)
c(c(4,5,6),x)
test <- data$EVTYPE
index <- NULL
for(i in 1:48){
inter <- which(test==Event[i])
index <- c(index,inter)
inter <- NULL
}
names(data)
tail(data[,23:28],20)
tail(data[,23:28],50)
head(data[,23:28],50)
head(data[,21:22],50)
head(data$WFO,50)
tail(data$WFO,50)
tail(data$END_DATE,50)
tail(data$END_TIME,50)
head(data$END_DATE,50)
data1 <- cbind(data$BGN_DATE,data$EVTYPE,data[,23:28])
StormData <- data1[index]
data1 <- cbind(data$BGN_DATE,data$EVTYPE,data[,23:28])
StormData <- data1[index,]
names(StormData)
data1 <- cbind(data[,2],data[,8],data[,23:28])
StormData <- data1[index,]
names(StormData)
colnames(StormData) <- c("BGN_DATE","EVTYPE","FATALITIES","INJURIES",
"PROPDMG","PROPDMGEXP","CROPDMG","CROPDMGEXP")
names(StormData)
length(StormData$BGN_DATE)
trial<-grep(195,StormData$BGN_DATE)
trial<-grep(196,StormData$BGN_DATE)
trial<-grep(197,StormData$BGN_DATE)
trial<-grep(198,StormData$BGN_DATE)
trial<-grep(199,StormData$BGN_DATE)
trial<-grep(200,StormData$BGN_DATE)
trial<-grep(201,StormData$BGN_DATE)
sum(7709,14930,20383,35582,132080,311784,109181)
INDICATOR <- rep(0,length(StormData$BGN_DATE))
inter <- grep(195,StormData$BGN_DATE)
INDICATOR[inter] <- 1950
INDICATOR <- rep(0,length(StormData$BGN_DATE))
inter <- grep(195,StormData$BGN_DATE)
INDICATOR[inter] <- 1950
inter <- grep(196,StormData$BGN_DATE)
INDICATOR[inter] <- 1960
inter <- grep(197,StormData$BGN_DATE)
INDICATOR[inter] <- 1970
inter <- grep(198,StormData$BGN_DATE)
INDICATOR[inter] <- 1980
inter <- grep(199,StormData$BGN_DATE)
INDICATOR[inter] <- 1990
inter <- grep(200,StormData$BGN_DATE)
INDICATOR[inter] <- 2000
inter <- grep(201,StormData$BGN_DATE)
INDICATOR[inter] <- 2010
StormData <- cbind(StormData,INDICATOR)
sum(which(INDICATOR==1950))
sum(grepl(1950,INDICATOR))
names(StormData)
?tapply
tapply(StormData$FATALITIES,EVTYPE,sum)
tapply(StormData$FATALITIES,StormData$EVTYPE,sum)
class(StormData$EVTYPE)
StormData$EVTYPE
index <- NULL
INDICATOR <- rep(0,length(data$EVTYPE))
for(i in 1:48){
inter <- which(data$EVTYPE==Event[i])
INDICATOR[inter] <- Event[i]
index <- c(index,inter)
inter <- NULL
}
data1 <- cbind(data[,2],INDICATOR,data[,23:28])
StormData <- data1[index,]
colnames(StormData) <- c("BGN_DATE","EVTYPE","FATALITIES","INJURIES",
"PROPDMG","PROPDMGEXP","CROPDMG","CROPDMGEXP")
YEAR <- rep(0,length(StormData$BGN_DATE))
inter <- grep(195,StormData$BGN_DATE)
YEAR[inter] <- 1950
inter <- grep(196,StormData$BGN_DATE)
YEAR[inter] <- 1960
inter <- grep(197,StormData$BGN_DATE)
YEAR[inter] <- 1970
inter <- grep(198,StormData$BGN_DATE)
YEAR[inter] <- 1980
inter <- grep(199,StormData$BGN_DATE)
YEAR[inter] <- 1990
inter <- grep(200,StormData$BGN_DATE)
YEAR[inter] <- 2000
inter <- grep(201,StormData$BGN_DATE)
YEAR[inter] <- 2010
StormData <- cbind(StormData,YEAR)
names(StormData)
tapply(StormData$FATALITIES,EVTYPE,sum)
tapply(StormData$FATALITIES,StormData$EVTYPE,sum)
factor(StormData$EVTYPE)
tapply(StormData$FATALITIES,StormData$EVTYPE,sum)
max(tapply(StormData$FATALITIES,StormData$EVTYPE,sum))
max(tapply(StormData$FATALITIES,StormData$EVTYPE,sum),na.rm=TRUE)
?as.factor
as.factor(StormData$EVTYPE)
sum(grepl(0,StormData$EVTYPE))
max(tapply(StormData$FATALITIES,StormData$EVTYPE,sum),na.rm=TRUE)
tapply(StormData$INJURIES,StormData$EVTYPE,sum)
max(tapply(StormData$INJURIES,StormData$EVTYPE,sum),na.rm=TRUE)
tapply(StormData$FATALITIES,StormData$EVTYPE,sum)
max(tapply(StormData$FATALITIES,StormData$EVTYPE,sum),na.rm=TRUE)
tapply(StormData$INJURIES,StormData$EVTYPE,sum)
max(tapply(StormData$INJURIES,StormData$EVTYPE,sum),na.rm=TRUE)
index <- which(StormData$EVTYPE=="TORNADO")
Tornado <- StormData[index,]
tapply(Tornado$FATALITIES,Tornado$YEAR,sum)
tapply(Tornado$INJURIES,Tornado$YEAR,sum)
some<-
tapply(Tornado$INJURIES,Tornado$YEAR,sum)
quartz()
quartz()
dev.off()
names(StormData)
class(StormData$PROPDMGEXP)
StormData$PROPDMGEXP
StormData$PROPDMGEXP
5*10e3
1e4
1e3
5e3
PROPERTY <- rep(0,length(StormData$PROPDMG))
CROP <- rep(0,length(StormData$CROPDMG))
for(i in 1:length(PROPERTY)){
inter1 <- StormData$PROPDMGEXP[i]
inter2 <- StormData$PROPDMG[i]
if(inter1=="K"){PROPERTY[i] <- inter2*1e3}
if(inter1=="M"){PROPERTY[i] <- inter2*1e6}
if(inter1=="B"){PROPERTY[i] <- inter2*1e9}
else{PROPERTY[i] <- inter2}
}
for(i in 1:length(CROP)){
inter1 <- StormData$CROPDMGEXP[i]
inter2 <- StormData$CROPDMG[i]
if(inter1=="K"){PROPERTY[i] <- inter2*1e3}
if(inter1=="M"){PROPERTY[i] <- inter2*1e6}
if(inter1=="B"){PROPERTY[i] <- inter2*1e9}
else{CROP[i] <- inter2}
}
max(PROPERTY)
sum(grepl("B",StormData$CROPDMGEXP))
sum(grepl("B",StormData$PROPDMGEXP))
?tapply
StormData <- cind(StormData,PROPERTY,CROP)
tapply(StormData$PROPERTY,StormData$EVTYPE,sum)
tapply(StormData$CROP,StormData$EVTYPE,sum)
StormData <- cbind(StormData,PROPERTY,CROP)
tapply(StormData$PROPERTY,StormData$EVTYPE,sum)
tapply(StormData$CROP,StormData$EVTYPE,sum)
max(CROP)
PROPERTY <- rep(0,length(StormData$PROPDMG))
CROP <- rep(0,length(StormData$CROPDMG))
for(i in 1:length(PROPERTY)){
inter1 <- StormData$PROPDMGEXP[i]
inter2 <- StormData$PROPDMG[i]
if(inter1=="K"){PROPERTY[i] <- inter2*1e3}
if(inter1=="M"){PROPERTY[i] <- inter2*1e6}
if(inter1=="B"){PROPERTY[i] <- inter2*1e9}
else{PROPERTY[i] <- inter2}
}
for(i in 1:length(CROP)){
inter1 <- StormData$CROPDMGEXP[i]
inter2 <- StormData$CROPDMG[i]
if(inter1=="K"){CROP[i] <- inter2*1e3}
if(inter1=="M"){CROP[i] <- inter2*1e6}
if(inter1=="B"){CROP[i] <- inter2*1e9}
else{CROP[i] <- inter2}
}
StormData <- cbind(StormData,PROPERTY,CROP)
tapply(StormData$PROPERTY,StormData$EVTYPE,sum)
tapply(StormData$CROP,StormData$EVTYPE,sum)
max(CROP)
tapply(StormData$PROPERTY,StormData$EVTYPE,sum)
max(tapply(StormData$PROPERTY,StormData$EVTYPE,sum))
max(tapply(StormData$PROPERTY,StormData$EVTYPE,sum),na.rm=TRUE)
43977874430/1e10
tapply(StormData$CROP,StormData$EVTYPE,sum)
max(tapply(StormData$CROP,StormData$EVTYPE,sum),na.rm=TRUE)
index <- which(StormData$EVTYPE=="HURRICANE/TYPHOON")
Hur_Typ <- StormData[index,]
index <- which(StormData$EVTYPE=="HAIL")
Hail <- StormData[index,]
tapply(Hur_Typ$PROPERTY,Hur_Typ$YEAR,sum)
tapply(Hail$CROP,Hail$YEAR,sum)
View(Hur_Typ)
names(StormData)
tapply(StormData$FATALITIES,StormData$YEAR,sum)
tapply(StormData$INJURIES,StormData$YEAR,sum)
tapply(StormData$PROPERTY,StormData$YEAR,sum)
tapply(StormData$CROP,StormData$YEAR,sum)
source('~/Documents/Datascience/5Assessment2/5Assessment2.R', echo=TRUE)
quartz()
par(mfrow(2,1))
par(mfrow=c(2,1))
?barplot
dev.off()
barplot(Fatalities)
Fatalities
barplot(Fatalities,col="b")
barplot(Fatalities,col="blue")
barplot(Fatalities,col="blue",main="Fatalities due to Tornado, US, 1950-2011")
axis(1,at=Fatalities,labels=Interval)
barplot(Fatalities,col="blue",main="Fatalities due to Tornado, US, 1950-2011")
barplot(Fatalities,col="blue",main="Fatalities due to Tornado, US, 1950-2011",names.arg=Interval)
quartz()
par(mfrow=c(2,1))
barplot(Fatalities,col="blue",main="Fatalities due to Tornado, US, 1950-2011",names.arg=Interval)
barplot(Injuries,col="green",main="Injuries due to Tornado, US, 1950-2011",names.arg=Interval)
dev.off()
barplot(Injuries,col="green",main="Injuries due to Tornado, US, 1950-2011",names.arg=Interval,ylabs="year",xlabs="Number of perople")
barplot(Injuries,col="green",main="Injuries due to Tornado, US, 1950-2011",names.arg=Interval,ylab="year",xlab="Number of perople")
barplot(Injuries,col="green",main="Injuries due to Tornado, US, 1950-2011",names.arg=Interval,xlab="year",ylab="Number of perople")
png(file ="plot1.png", bg ="transparent")
par(mfrow=c(2,1))
barplot(Fatalities,col="blue",xlab="year",ylab="No. of people",
main="Fatalities due to Tornado, US, 1950-2011",
names.arg=Interval)
barplot(Injuries,col="green",xlab="year",ylab="No. of people",
main="Injuries due to Tornado, US, 1950-2011",
names.arg=Interval)
dev.off()
Property
PROPERTY
Property <- tapply(Hur_Typ$PROPERTY,Hur_Typ$YEAR,sum)
Crop <- tapply(Hail$CROP,Hail$YEAR,sum)
Property
Crop
inter <- tapply(Hur_Typ$PROPERTY,Hur_Typ$YEAR,sum)
Property <- c(0,0,0,0,0,inter,0)
names(Property)
colnames(Property)<-Interval
names(Property)<-Interval
names(Property)
Property
Crop <- tapply(Hail$CROP,Hail$YEAR,sum)
png(file ="plot2.png", bg ="transparent")
par(mfrow=c(2,1))
barplot(Property,col="blue",xlab="year",ylab="Million Dollars",
main="Property loss due to Hurricane/Typhoon, US, 1950-2011",
names.arg=Interval)
barplot(Crop,col="green",xlab="year",ylab="Thousand Dollars",
main="Crop loss due to Hail, US, 1950-2011",
names.arg=Interval)
dev.off()
png(file ="plot2.png", bg ="transparent")
par(mfrow=c(2,1))
barplot(Property/1e6,col="blue",xlab="year",ylab="Million Dollars",
main="Property loss due to Hurricane/Typhoon, US, 1950-2011",
names.arg=Interval)
barplot(Crop/1e3,col="green",xlab="year",ylab="Thousand Dollars",
main="Crop loss due to Hail, US, 1950-2011",
names.arg=Interval)
dev.off()
tapply(StormData$FATALITIES,StormData$YEAR,sum)
tapply(StormData$INJURIES,StormData$YEAR,sum)
tapply(StormData$PROPERTY,StormData$YEAR,sum)
tapply(StormData$CROP,StormData$YEAR,sum)
FatalitiesALL <- tapply(StormData$FATALITIES,StormData$YEAR,sum)
InjuriesALL <- tapply(StormData$INJURIES,StormData$YEAR,sum)
PropertyALL <- tapply(StormData$PROPERTY,StormData$YEAR,sum)
CropALL <- tapply(StormData$CROP,StormData$YEAR,sum)
Health <- table(FatalitiesALL,InjuriesALL)
Economy <- table(PropertyALL,CropALL)
Health
Health <- cbind(FatalitiesALL,InjuriesALL)
Economy <- cbind(PropertyALL,CropALL)
Health
barplot(Health)
Health <- rbind(FatalitiesALL,InjuriesALL)
Economy <- rbind(PropertyALL,CropALL)
barplot(Health)
barplot(Health, main="Car Distribution by Gears and VS",
xlab="year", col=c("blue","red"),
legend = rownames(Health))
barplot(Economy/1e3,xlab="year",ylab="Thousand dollars",
main="Economy loss due to Weather, US, 1950-2011",
legend=rownames(Economy),col=c("blue,""red"))
Economy
barplot(Economy/1e3,xlab="year",ylab="Thousand dollars",
main="Economic loss due to Weather, US, 1950-2011",
col=c("blue,""red"))
barplot(Economy/1e3,xlab="year",ylab="Thousand dollars",
main="Economic loss due to Weather, US, 1950-2011",
legend=rownames(Economy),col=c("blue","red"))
barplot(Economy/1e6,xlab="year",ylab="Million dollars",
main="Economic loss due to Weather, US, 1950-2011",
legend=rownames(Economy),col=c("blue","red"))
png(file ="plot3.png", bg ="transparent")
par(mfrow=c(2,1))
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
legend=rownames(Health),col=c("blue,""red"))
barplot(Economy/1e6,xlab="year",ylab="Million dollars",
main="Economic loss due to Weather, US, 1950-2011",
legend=rownames(Economy),col=c("blue","red"))
dev.off()
png(file ="plot3.png", bg ="transparent")
par(mfrow=c(2,1))
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
legend=rownames(Health),col=c("blue","red"))
barplot(Economy/1e6,xlab="year",ylab="Million dollars",
main="Economic loss due to Weather, US, 1950-2011",
legend=rownames(Economy),col=c("blue","red"))
dev.off()
?legend
barplot(Health,xlab="year",ylab="No. of people",
+         main="Population Health due to Weather, US, 1950-2011",
+         col=c("blue","red"))
barplot(Health,xlab="year",ylab="No. of people",
+         main="Population Health due to Weather, US, 1950-2011",
+         col=c("blue","red"),legend=rownames(Health))
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
legend=rownames(Health),col=c("blue","red"))
legend(rownames(Health),border=NULL,)
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
col=c("blue","red"))
legend(rownames(Health),border=NULL)
legend(1,-1,rownames(Health), pch = c(1,2), lty = c(1,2))
quartz()
barplot(Health,xlab="year",ylab="No. of people",
+         main="Population Health due to Weather, US, 1950-2011",
+        col=c("blue","red"))
barplot(Health,xlab="year",ylab="No. of people",
+         main="Population Health due to Weather, US, 1950-2011",
+        col=c("blue","red"))
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
col=c("blue","red"))
legend(1,-1,rownames(Health))
dev.off()
quartz()
legend(1,-1,rownames(Health))
plot.new()
legend(1,-1,rownames(Health))
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
col=c("blue","red"))
legend(1,1,rownames(Health))
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
col=c("blue","red"))
legend(1,1,rownames(Health))
legend(1,-1,c("group A", "group B"), pch = c(1,2), lty = c(1,2))
?barplot
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
legend.text=rownames(Health),col=c("blue","red"))
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
legend.text=rownames(Health),col=c("blue","red"),args.legend=list(x="topleft"))
png(file ="plot3.png", bg ="transparent")
par(mfrow=c(2,1))
barplot(Health,xlab="year",ylab="No. of people",
main="Population Health due to Weather, US, 1950-2011",
legend=rownames(Health),col=c("blue","red"),
args.legend=list(x="topleft"))
barplot(Economy/1e6,xlab="year",ylab="Million dollars",
main="Economic loss due to Weather, US, 1950-2011",
legend=rownames(Economy),col=c("blue","red"),
args.legend=list(x="topleft"))
dev.off()
source('~/Documents/Datascience/5Assessment2/5Assessment2.R', echo=TRUE)
Economy
